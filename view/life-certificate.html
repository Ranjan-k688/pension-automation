
            <div ng-controller="lifeCertificate">
                <style>
                    .profileimg{ width: 34px; height: 34px;background: #fff; border-radius:4px; overflow: hidden;}
                    .profileimg img{width: 100%; height: 100%; object-fit: contain;}
                    .image-container img {  width: 100px;  height: 100px;  object-fit: cover; }
                    .tablesec .table>tbody>tr>td { vertical-align: middle;  }
                    </style>
                <div class="titles">Life-Certificate Form </div>
                <form class="formsec" name="myform" novalidate>
                    <ul class="formshow list3">
                        <li>
                            <div class="form-group">
                              <label class="required">Pensioner Id </label>
                              <select class="form-control dropdd" data-live-search="true" ng-options="pensioner as pensioner for pensioner in allPensionersIdData | orderBy:'displayName'" name="pensionerId" required ng-model="form.pensionerId" 
                              ng-change="payDataById(form.pensionerId);">
                                <option value=""  selected>Select Pensioner Id</option>
                                </select>
                            </div>
                            <div class="error" ng-show="myform.pensionerId.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                              This field is required.
                            </div>
                        </li>


                        <li ng-if="form.employeeName">
                            <div class="form-group" >
                              <label class="required">Employee Name </label>
                              <input type="text" class="form-control"  placeholder="Employee name" name="employeeName"  ng-model="form.employeeName"  disabled/>
                            </div>
                        </li>  
                      <li ng-if="form.payCommissionCode">
                        <div class="form-group" ng-if="form.payCommissionCode">
                          <label class="required">PayCommision Code</label>
                          <select class="form-control" ng-model="form.payCommissionCode" name="payCommissionCode" data-live-search="true"  ng-options="x.payCommissionCode as x.dscr for x in payCommisionData" disabled>
                        </select>
                        </div>
                      </li>
                    <li ng-if="form.aadhaar">
                      <div class="form-group" >
                        <label class="required">Aadhar No.</label>
                        <input type="text" class="form-control"  placeholder="Aadhar No." name="aadhaar"  ng-model="form.aadhaar"  disabled/>
                      </div>
                  </li>
                  <li ng-if="form.pan">
                    <div class="form-group" >
                      <label class="">Pan No</label>
                      <input type="text" class="form-control"  placeholder="Pan No." name="pan"  ng-model="form.pan" disabled />
                    </div>
                  </li>
                  <li ng-if="form.pan=='Null'">
                  <div class="form-group" >
                    <label class="">Pan No</label>
                    <input type="text" class="form-control"  placeholder="Pan No." name="pan"  ng-model="form.pan" ng-iniit="form.pan='No Record'" disabled />
                  </div>
                  </li>
              <li ng-if="form.pensionerStatusCode || form.pensionerStatusCode=='0' ">
                <div class="form-group">
                  <label class="required">Pensioner Status code</label>
                  <select class="form-control" ng-model="form.pensionerStatusCode" name="pensionerStatusCode" data-live-search="true"  ng-options="x.pensionerStatusCode as x.dscr for x in pensionerStatusData" disabled>
                </select>
                </div>
              </li>
              <li ng-if="form.collegeCode">
                <div class="form-group" ng-if="form.collegeCode">
                  <label class="required">College</label>
                  <select class="form-control" ng-model="form.collegeCode" name="collegeCode" data-live-search="true" title="Select College" ng-options="x.collegeShortName as x.dscr for x in clgs" disabled>
                </select>
                
                </div>
              </li>
              <li ng-if="form.departmentCode">
                <div class="form-group" ng-if="form.departmentCode">
                  <label class="required">Department</label>
                  <select class="form-control" ng-model="form.departmentCode" name="departmentCode" data-live-search="true" title="Select department" ng-options="x.deptShortName as x.dscr for x in depts" disabled>    
                </select>
                
                </div>
              </li>

                        <li>
                            <div class="form-group">
                                <label class="required">FinYear </label>
                                <input type="text" class="form-control" placeholder="Fine Year" required ng-pattern="/^[0-9]*$/"
                                    ng-model="form.finYear" maxlength="9" name="finYear" ng-disabled="flag" autocomplete="off"/>
                                <div class="error"
                                    ng-show="myform.finYear.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                                <div class="error" ng-show="myform.finYear.$error.pattern" style="color: red;">
                                    Please enter numeric Only.
                                </div>
                            </div>
                        </li>
                        <!-- <li>
                            <div class="form-group">
                                <label class="required">Date Of Submission </label>
                                <input type="text" class="form-control datepicker" datepicker autocomplete="off" ng-model="form.dateOfSubmission"  name="dateOfSub" required placeholder="Date Of Submission"  />
                            </div>
                            <div class="error"
                            ng-show="myform.dateOfSub.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                            This field is required.
                        </div>
                        </li> -->
                        <li>
                            <div class="form-group">
                                <label>Certificate No </label>
                                <input type="text" class="form-control" placeholder="Certificate No." 
                                    ng-model="form.certificateNo" name="dateOfSubmission" maxlength="20" pattern="[0-9]+"/>
                                <div class="error" ng-show="myform.dateOfSubmission.$error.pattern" style="color: red;">
                                    Please enter only Numeric .
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">Certificate Date </label>
                                <input type="text" class="form-control datepicker" required datepicker placeholder="Certificate Date"
                                     ng-model="form.certificateDate" name="certificateDate" autocomplete="off"/>
                            </div>
                            <div class="error"
                            ng-show="myform.certificateDate.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                            This field is required.
                        </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">Choose Life Certificate </label>
                                <div class="flexbox" style="align-items:center;">
                                    <div><input type="file" ngf-select ng-model="selectedFile" id="fileInput" class="form-control" ngf-change="previewImage()" accept="image/*" /></div>
                                <div class="profileimg" >
                                    <img ng-src="{{imagePreview}}"  alt="Image Preview" id="blah"   /> 
                                </div>
                                </div>
                            </div>
                        </li>
                        <li> <button type="button" class="btn bluebtn" style="margin-top: 20px;"
                                ng-click="save(form)">Submit</button></li>
                    </ul>
                    
                </form>
                <div>
                    <div class="titles lists" data-aos="fade-up" data-aos-duration="1000">Data List </div>  
                    <!-- <div class="tabletop fcs">
                        <div><button class="btn bluebtn" data-toggle="modal" data-target="#modalcompanydoc"
                                data-backdrop="static" data-keyboard="false"><i class="fa fa-download"></i>
                                Download</button></div>
                        <div class="searchfield"><input class="form-control" type="text" value=""
                                placeholder="Search" /></div>
                    </div> -->
             
                    <div class="tablesec">
                        <table class="table table-striped">
                            <thead>
                                <tr>

                                    <th width="100">Pensioner Id </th>
                                    <th width="100">FinYear</th>
                                    <th>Certificate No</th>
                                    <th>Certificate Date</th>
                                    <th>Life Certificate</th>


                                    <th width="100">Actions</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="n in lifedata | orderBy:'-finYear'" >
                                    <td ng-bind="n.pensionerId"> </td>
                                    <td ng-bind="n.finYear"> </td>
                                    <td ng-bind="n.certificateNo"> </td>
                                    <td ng-bind="n.certificateDate"></td>
                                    <td><span class="image-container"><img src="https://ru-pension-attachment.s3.ap-south-1.amazonaws.com/life_certificate/{{n.imageFileName}}" alt="no image available" /></span> </td>

                                    <td>
                                        <!-- <button class="btn editbtn" data-toggle="modal" data-placement="top"
                                            title="Edit" ng-click="edit(n);payDataById(n.pensionerId);"><i class="fa fa-pencil"></i></button> -->
                                    
                                                <button class="btn deletebtn" data-toggle="modal" data-target="#deleteModal" data-placement="top" ng-click="setDeleteData(n)"
                                                title="Delete" > <i class="fa fa-trash" ></i>  </button>
                                    </td>
                               </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- data Model -->
                <div class="modal fade" id="deleteModal" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Delete Confirmation</h4>
                            </div>
                            <div class="modal-body">
                                <p>Are you sure you want to delete this data?</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-danger" 
                                ng-click="delete(deleteDataModel.pensionerId,deleteDataModel.finYear)">Delete</button>
                            </div>
                        </div>
                    </div>
                  </div>

            </div>