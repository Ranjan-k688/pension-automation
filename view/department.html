
            <div ng-controller="department">
                <div class="titles">Department Form </div>
                <form name="myform" class="formsec" novalidate>
                    <ul class="formshow list3">
                        <li class="searchbox">
                            <div class="form-group">
                                <label class="required">University Code</label>
                                <!-- <input type="text" class="form-control" placeholder="University Code" required
                                    ng-model="form.universityCode" name="universityCode" ng-pattern="/^\d{0,3}$/" ng-disabled="flag"/> -->
                                    <select class="form-control"  name="universityCode" required ng-model="form.universityCode" ng-disabled="flag" data-live-search="true" >
                                        <option value="">Select</option>
                                      <option value={{x.universityCode}} ng-repeat="x in unidata" selected>{{x.universityCode}}-{{x.dscr}} </option>
                                      </select>
                                <div class="error"
                                    ng-show="myform.universityCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">College Code</label>
                                    <select class="form-control"  name="collegeCode" required ng-model="form.collegeCode" ng-disabled="flag" >
                                        <option value="">Select</option>
                                      <option value={{x.collegeCode}} ng-repeat="x in clgData" selected>{{x.collegeCode}}-{{x.clgdscr}} </option>
                                      </select>
                                <div class="error"
                                    ng-show="myform.collegeCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">Department Code </label>
                                <input type="text" class="form-control" placeholder="Department Code" required ng-change="checkDuplicate(form.departmentCode)"
                                    ng-model="form.departmentCode" ng-pattern="/^[0-9]+$/" maxlength="5" name="departmentCode" ng-disabled="flag"/>
                                <div class="error"
                                    ng-show="myform.departmentCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                                <div class="error"
                                    ng-show="myform.departmentCode.$error.pattern" style="color: red;">
                                    Please enter numeric Only.
                                </div>
                                <div class="error" ng-show="pcode"  style="color: red;">
                                    Department Code  already exist.
                                  </div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">Department Short Name </label>
                                <input type="text" class="form-control" placeholder="Department Short Name" required
                                    ng-model="form.deptShortName" name="dname" maxlength="10" ng-pattern="/^[a-zA-Z0-9 ]*$/" />
                                <div class="error"
                                    ng-show="myform.dname.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                                <div class="error" ng-show="myform.dname.$error.pattern" style="color: red;">
                                    Please enter only alphanumeric characters.
                                </div>
                            </div>
                        </li>


                        <li>
                            <div class="form-group">
                                <label class="required">Description </label>
                                <input type="text" class=" form-control" required placeholder="Description"
                                    ng-model="form.dscr" name="dscr"   ng-pattern="/^[a-zA-Z0-9,. ]+$/" maxlength="100" />
                                <div class="error"
                                    ng-show="myform.dscr.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                                <div class="error" ng-show="myform.dscr.$error.pattern" style="color: red;">
                                    Please enter only alphabaticaly.
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="form-group">
                                <label class="required">College type Code</label>   
                                <select class="form-control" 
                                      ng-options="x.collegeTypeCode as x.collegeTypeCode + '-' + x.description for x in clgType | filter:{collegeTypeCode: '!!'}" 
                                      name="collegeTypeCode"   required  ng-model="form.collegeTypeCode">
                                      <option value=""  selected>Select</option>
                                      <option value={{x.collegeTypeCode}}  ng-repeat="x in clgType">{{x.description}}</option>
                                 </select>
                                <div class="error"
                                    ng-show="myform.collegeTypeCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                    This field is required.
                                </div>
                            </div>
                        </li>
                        <li> <button type="button" class="btn bluebtn" style="margin-top: 20px;"
                                ng-click="save(form)" ng-disabled="myform.$invalid || pcode">Submit</button></li>
                    </ul>
                    
                </form>
                <div>


                    <div class="tabletop fcs">
                        <div class="flexbox spacebox"> 
                       <div class="searchfield">
                         <select class="form-control" ng-model="searchCriteria" ng-options="search1.shortName as search1.displayName for search1 in masterdata | filter: { type: 'department' }| orderBy:'displayName'">
                           <option value="" disabled selected >Search By</option>
                       </select>
                       </div>
                       <div class="searchfield searchbox" ng-if="searchCriteria"><input class="form-control" type="text" value="" placeholder="Enter {{searchCriteria}}" style="width: 240px; " ng-model="frm.searchCriteriaVal"/> 
                         <button type="button" ng-click="searchDept(searchCriteria,frm.searchCriteriaVal);"><i class="fa fa-search"></i></button></div>
                         </div>
                         <div class="flexbox spacebox"> 
                         <!-- <div><button class="btn pensionerbtn"  ng-click="">List</button></div>  -->
                       
                     <!-- <div><button class="btn bluebtn" data-toggle="modal" data-target="#modalcompanydoc" data-backdrop="static" data-keyboard="false" ng-click="exportToExcel()"><i class="fa fa-download"></i> Download</button></div> -->
                     </div>
                     </div>

                    <div class="tablesec">
                        <table class="table table-striped">
                            <thead>
                                <tr>

                                    <th width="100">University Code</th>
                                    <th width="100">College Code</th>
                                    <th width="130">department Code </th>
                                    <th width="200">Department Short Name </th>
                                    <th width="250">Description</th>
                                    <th width="130">CollegeType Code</th>
                                    <th width="100">Actions</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr ng-repeat="n in deptdata">
                                    <td ng-bind="n.universityCode"> </td>
                                    <td ng-bind="n.collegeCode"> </td>
                                    <td ng-bind="n.departmentCode"> </td>
                                    <td ng-bind="n.deptShortName"> </td>
                                    <td ng-bind="n.dscr"> </td>
                                    <td ng-bind="getPayCode(n.collegeTypeCode) "></td>
                                    <!-- <td ng-bind="n.collegeTypeCode"> </td> -->
                                    <td>
                                        <button class="btn editbtn" data-toggle="modal" data-placement="top" data-target="#editpensioner"
                                        title="Edit" ng-click="edit(n)"><i class="fa fa-pencil"></i></button>
                                        <!-- <button class="btn viewbtn" data-toggle="modal" data-placement="top"
                                            title="View"><i class="fa fa-eye"></i></button> -->
                                        <!-- <button class="btn deletebtn" data-toggle="modal" data-placement="top" title="Delete"
                                            ng-click="delete(n.collegeCode,n.universityCode,n.departmentCode)"><i
                                                class="fa fa-trash"></i></button> -->
                                                <button class="btn deletebtn" data-toggle="modal" data-target="#deleteModal" data-placement="top" ng-click="setDeleteData(n)"
                                                title="Delete" > <i class="fa fa-trash" ></i>  </button>
                                    </td> 
                                </tr>

                            </tbody>
                        </table>
                    </div>

                       <div class="modal fade" id="deleteModal" role="dialog" data-backdrop="static">
                        <div class="modal-dialog modal-sm">
                          <div class="modal-content">
                            <div class="modal-body">
                              <div class="formsec nobg">
                                <h4 class="modal-title text-center"> Are you sure, you want to delete this data?</h4>                     
                                </div>
                                <div class="text-center">
                                  <button type="button" class="btn bluebtn " style="padding: 5px;width:70px;color: beige;" data-dismiss="modal">Cancel</button>
                                  <button type="button" class="btn bluebtn" style="padding: 5px;width:70px;color: beige;"
                                  ng-click="deletedept(deleteDataModel.collegeCode,deleteDataModel.universityCode,deleteDataModel.departmentCode)">Delete</button>
                                </div>
                            </div>                 
                          </div>
                        </div>
                      </div> 

             


                <div class="modal fade" id="editpensioner" data-backdrop="static">
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal" ng-click="closemodal();cls();">&times;</button>
                          <h4 class="modal-title text-center">Edit Department</h4>
                        </div>
                        <div class="modal-body">
                            <form class="formsec" name="my">

                                <ul class="formshow list3">
                                    <li class="searchbox">
                                        <div class="form-group">
                                            <label class="required">University Code</label>
                                            <!-- <input type="text" class="form-control" placeholder="University Code" required
                                                ng-model="form.universityCode" name="universityCode" ng-pattern="/^\d{0,3}$/" ng-disabled="flag"/> -->
                                                <select class="form-control"  name="universityCode" required ng-model="form.universityCode" ng-disabled="flag" data-live-search="true" >
                                                    <option value="">Select</option>
                                                  <option value={{x.universityCode}} ng-repeat="x in unidata" selected>{{x.universityCode}}-{{x.dscr}} </option>
                                                  </select>
                                            <div class="error"
                                                ng-show="myform.universityCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group">
                                            <label class="required">College Code</label>
                                                <select class="form-control"  name="collegeCode" required ng-model="form.collegeCode" ng-disabled="flag" >
                                                    <option value="">Select</option>
                                                  <option value={{x.collegeCode}} ng-repeat="x in clgData" selected>{{x.collegeCode}}-{{x.clgdscr}} </option>
                                                  </select>
                                            <div class="error"
                                                ng-show="myform.collegeCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group">
                                            <label class="required">Department Code </label>
                                            <input type="text" class="form-control" placeholder="Department Code" required ng-change="checkDuplicate(form.departmentCode)"
                                                ng-model="form.departmentCode" ng-pattern="/^[0-9]+$/" maxlength="5" name="departmentCode" ng-disabled="flag"/>
                                            <div class="error"
                                                ng-show="myform.departmentCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                            <div class="error"
                                                ng-show="myform.departmentCode.$error.pattern" style="color: red;">
                                                Please enter numeric Only.
                                            </div>
                                            <div class="error" ng-show="pcode"  style="color: red;">
                                                Department Code  already exist.
                                              </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group">
                                            <label class="required">Department Short Name </label>
                                            <input type="text" class="form-control" placeholder="Department Short Name" required
                                                ng-model="form.deptShortName" name="dname" maxlength="10" ng-pattern="/^[a-zA-Z0-9]*$/" />
                                            <div class="error"
                                                ng-show="myform.dname.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                            <div class="error" ng-show="myform.dname.$error.pattern" style="color: red;">
                                                Please enter only alphanumeric characters.
                                            </div>
                                        </div>
                                    </li>
            
            
                                    <li>
                                        <div class="form-group">
                                            <label class="required">Description </label>
                                            <input type="text" class=" form-control" required placeholder="Description"
                                                ng-model="form.dscr" name="dscr"   ng-pattern="/^[a-zA-Z0-9,. ]+$/" maxlength="100" />
                                            <div class="error"
                                                ng-show="myform.dscr.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                            <div class="error" ng-show="myform.dscr.$error.pattern" style="color: red;">
                                                Please enter only alphabaticaly.
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="form-group">
                                            <label class="required">College type Code</label>   
                                            <select class="form-control" 
                                                  ng-options="x.collegeTypeCode as x.collegeTypeCode + '-' + x.description for x in clgType | filter:{collegeTypeCode: '!!'}" 
                                                  name="collegeTypeCode"   required  ng-model="form.collegeTypeCode">
                                                  <option value="" disabled selected>Select</option>
                                             </select>
                                            <div class="error"
                                                ng-show="myform.collegeTypeCode.$error.required && myform.$submitted && !formSubmitted" style="color: red;">
                                                This field is required.
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                             
                                <div class="modal-footer text-center">
                                    <div class="text-center">
                                      <button type="button" class="btn bluebtn" ng-disabled="myform.$invalid || pcode" ng-click="save(form)">Update</button>
                                      <button type="button" class="btn bluebtn" data-dismiss="modal" ng-click="closemodal(); cls();">Close</button>
                                    </div>
                                  </div> 
                            </form>
                           
                                  </div>
                               </div>
                        </div>
                     </div>
                  
                     <div class="popupbg"></div>

            </div>
    