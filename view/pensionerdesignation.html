<div ng-controller="pensionerdesignation">
  <div class="titles" data-aos="fade-up" data-aos-duration="1000">Pensioner Designation Form</div>
  <form name="pendesform" class="formsec" novalidate>
    <ul class="formshow list3">
      <li class="col-6">
        <div class="form-group">
          <label class="required">Pensioner Type Code</label>
          <select class="form-control" style="width: 100%;" ng-model="form.pensionerTypeCode" ng-required="true" 
            name="pensionerTypeCode">
            <option value="" disabled>Pensioner Type Code</option>
            <option ng-repeat="i in pensionerTypeData" value="{{i.pensionerTypeCode}}">{{i.dscr}}</option>
          </select>
          <div style="color: red;"
            ng-show="pendesform.pensionerTypeCode.$error.required && pendesform.pensionerTypeCode.$touched && !formSubmitted">
            This field is required.
          </div>
        </div>
      </li>

      <li class="col-6">
        <div class="form-group">
          <label class="required">Grade Code</label>
          <select class="form-control" style="width: 100%;" ng-model="form.gradeCode" name="gradeCode" required >
            <option value=""  selected>Grade Code</option>
            <option ng-repeat="i in pensionGradeData | filter:{ pensionerTypeCode: form.pensionerTypeCode }"
              value="{{i.gradeCode}}">
              {{i.gradeCode}} - {{i.dscr}}
            </option>
          </select>
          <div style="color: red;"
            ng-show="pendesform.gradeCode.$error.required && pendesform.gradeCode.$touched && !formSubmitted">
            This field is required.
          </div>
        </div>
      </li>
      <li>
        <div class="form-group">
          <label class="required">Designation Short Name</label>
          <input type="text"  class="form-control" no-special-characters ng-maxlength="15"
            ng-model="form.desigShortName" name="desigShortName" required placeholder="Designation Short Name" />
        </div>

        <div class="error" style="color: red;"
          ng-show="pendesform.desigShortName.$error.required  && pendesform.desigShortName.$touched && !formSubmitted">
          This field is required.</div>
        <div ng-show="pendesform.desigShortName.$error.maxlength" style="color: red;">The maximum length is 10
          characters.</div>
      </li>
      <li>
        <div class="form-group">
          <label class="required">Designation Description</label>
          <input type="text" no-special-characters class="form-control" placeholder="Designation Description"
            ng-model="form.dscr" maxlength="50" name="dscr" required />
        </div>
        <div class="error" style="color: red;"
          ng-show="pendesform.dscr.$error.required  && pendesform.dscr.$touched && !formSubmitted">
          This field is required.</div>
        <div class="error" style="color: red;" ng-show="pendesform.dscr.$error.maxlength">The maximum length is 50
          characters.</div>
      </li>

      <li style="margin-top: 20px;"><button type="button" ng-click="savePensionGrade(form)"
          ng-disabled="pendesform.$invalid" class="btn bluebtn">Submit</button></li>
    </ul>

  </form>

  <div class="titles" data-aos="fade-up" style="text-align: center;">Data List</div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Pensioner Type Code</th>
        <th width="200">Pensioner Description</th>
        <th>Grade Code</th>
        <th>Designation Short Name</th>
        <th>Designation Description</th>
        <th width="100">Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="n in pensionerDesignationData">
        <td>{{n.pensionerTypeCode}}</td>
        <td> {{ getPensionerTypeCodeDscr(n.pensionerTypeCode) }}</td>
        <td>{{n.gradeCode}}</td>
        <td>{{n.desigShortName}}</td>
        <td>{{n.dscr}}</td>
        <td>
          <button class="btn  editbtn" type="button" data-toggle="modal" data-target="#pendsig" data-placement="top" title="Edit"
            ng-click="edit(n)">
            <i class="fa fa-pencil"></i></button>
            <button class="btn deletebtn" title="Delete" data-toggle="modal" data-target="#deleteModal"
            ng-click="setDeleteData(n)">
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>


<!-- Delete Modal -->
<div class="modal fade" id="deleteModal" role="dialog" data-backdrop="static">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-body">
        <div class="formsec nobg">
          <h4 class="modal-title text-center"> Are you sure, you want to delete this data?
          </h4>
        </div>
        <div class="text-center">
          <button type="button" class="btn bluebtn " style="padding: 5px;width:70px;color: beige;"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn bluebtn" style="padding: 5px;width:70px;color: beige;"
            ng-click="deleteData(deleteDataInfo.pensionerTypeCode,deleteDataInfo.gradeCode,deleteDataInfo.desigShortName)">Delete</button>
        </div>
      </div>
    </div>
  </div>
</div>


  <!-- modal for edit -->
<div  class="modal fade" id="pendsig" data-backdrop="static">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="closemodal();cls();">&times;</button>
        <h4 class="modal-title text-center">Pensioner Designation Form</h4>
      </div>
      <div class="modal-body">
        <form name="upendesform" class="formsec" novalidate>
          <ul class="formshow list3">
            <li class="col-6">
              <div class="form-group">
                <label class="required">Pensioner Type Code</label>
                <select class="form-control" style="width: 100%;" ng-model="uform.pensionerTypeCode" ng-required="true" ng-disabled="idDisable"
                  name="pensionerTypeCode">
                  <option value="" disabled>Pensioner Type Code</option>
                  <option ng-repeat="i in pensionerTypeData" value="{{i.pensionerTypeCode}}">{{i.dscr}}</option>
                </select>
              </div>
            </li>
      
            <li class="col-6">
              <div class="form-group">
                <label class="required">Grade Code</label>
                <select class="form-control" style="width: 100%;" ng-model="uform.gradeCode" name="gradeCode" required ng-disabled="idDisable">
                  <option value=""  selected>Grade Code</option>
                  <option ng-repeat="i in pensionGradeData | filter:{ pensionerTypeCode: form.pensionerTypeCode }"
                    value="{{i.gradeCode}}">
                    {{i.gradeCode}} - {{i.dscr}}
                  </option>
                </select>
                
              </div>
            </li>
            <li>
              <div class="form-group">
                <label class="required">Designation Short Name</label>
                <input type="text"  class="form-control" no-special-characters ng-maxlength="15" ng-disabled="idDisable"
                  ng-model="uform.desigShortName" name="udesigShortName" required placeholder="Designation Short Name" />
              </div>
            </li>
            <li>
              <div class="form-group">
                <label class="required">Designation Description</label>
                <input type="text" no-special-characters class="form-control" placeholder="Designation Description"
                  ng-model="uform.dscr" maxlength="50" name="dscr" required />
              </div>
              <div class="error" style="color: red;"
                ng-show="upendesform.dscr.$error.required  && upendesform.dscr.$touched && !formSubmitted">
                This field is required.</div>
              <div class="error" style="color: red;" ng-show="upendesform.dscr.$error.maxlength">The maximum length is 50
                characters.</div>
            </li>
    
          </ul>
          <div class="modal-footer text-center">
            <div class="text-center">
              <button type="button" class="btn bluebtn"  ng-click="savePensionGrade(uform)">Update</button>
              <button type="button" class="btn bluebtn" data-dismiss="modal" ng-click="closemodal(); cls();">Close</button>
            </div>
          </div> 
      
        </form>

      </div>
    </div>
  </div>
</div>
</div>